# Orchestration: Gately (Game Dev) — Unified Build Mode

**Date:** 2026-02-28T19:40:00Z  
**Agent:** Gately (Game Dev)  
**Mode:** background  
**Task:** Unify build mode to shapes-only. Remove V key, structure carousel, PLACE message.  
**Outcome:** ✅ SUCCESS

---

## What Happened

### Input
- Design directive from Hal + server removal from Pemulis: Build mode must handle shapes only. Remove V key toggle, eliminate default click-to-claim.

### Work
Modified 4 files to unify input around shapes and remove structure placement UI:

**InputHandler.ts:**
- Removed `V` key handler, `shapeMode` field, `buildIndex` field
- Removed `PLACEABLE_ITEMS` (structures list)
- Removed default click-to-claim (mono shape on bare click)
- `B` toggles unified build mode
- `Q`/`E` cycle shapes (not structures+shapes)
- `R` rotates shapes
- Number keys select shapes
- All key actions gated on `buildMode` (no fallback behavior)

**HudDOM.ts:**
- Merged `setShapeMode()` and `setBuildMode()` into single `setBuildMode(active, selectedIndex, rotation)`
- Unified carousel renders only shapes
- Removed "Shape Mode" indicator text, kept "Build Mode" label

**HelpScreen.ts:**
- Updated keybindings: removed `V` reference
- `B` = build mode (shapes), `Q`/`E` cycle, `R` rotate
- Clarified no default click behavior outside build mode

**StructureRenderer.ts:**
- Kept as-is for HQ rendering (server still manages StructureState)

### Outcome
- 4 files modified
- Client compiles clean
- Build mode is now shapes-only; no PLACE message sent from input
- No accidental territory claims on bare clicks (must use `B` first)
- StructureRenderer still renders HQ from server state

---

## Decision

**Build mode is unified shapes-only interface.** V key removed, default click behavior removed. Players must press B to enter build mode before placing shapes.

---

## Impact

- Simpler input model: one mode (B), not two (B for structures, V for shapes)
- HQ still renders via StructureRenderer (server-driven, not input-driven)
- No more PLACE message generation from InputHandler
- Cleaner HUD: single carousel, no mode toggle
